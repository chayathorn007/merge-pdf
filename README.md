# PDF OCR Backend System ğŸ“„ğŸ¤–

à¸£à¸°à¸šà¸šà¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥ PDF à¸”à¹‰à¸§à¸¢ AI à¸—à¸µà¹ˆà¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰à¸—à¸µà¹ˆ backend à¹€à¸à¸µà¸¢à¸‡à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸”à¸µà¸¢à¸§ à¸à¸£à¹‰à¸­à¸¡ Web Interface à¸ªà¸³à¸«à¸£à¸±à¸šà¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ

## âœ¨ à¸„à¸§à¸²à¸¡à¸ªà¸²à¸¡à¸²à¸£à¸–

- ğŸ“„ **à¸­à¸±à¸›à¹‚à¸«à¸¥à¸” PDF** à¸œà¹ˆà¸²à¸™à¸«à¸™à¹‰à¸²à¹€à¸§à¹‡à¸šà¸‡à¹ˆà¸²à¸¢à¹† 
- ğŸ¤– **à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¸”à¹‰à¸§à¸¢ AI** (OpenAI GPT) 
- ğŸ“‹ **à¹à¸¢à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥** à¸ˆà¸²à¸ Shopee à¹à¸¥à¸°à¹à¸à¸¥à¸•à¸Ÿà¸­à¸£à¹Œà¸¡à¸­à¸µà¸„à¸­à¸¡à¹€à¸¡à¸´à¸£à¹Œà¸‹à¸­à¸·à¹ˆà¸™à¹†
- ğŸ·ï¸ **à¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸šà¸›à¸°à¸«à¸™à¹‰à¸²** à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸ªà¹ˆà¸‡à¸„à¸·à¸™à¸ªà¸´à¸™à¸„à¹‰à¸²
- ğŸ“¦ **à¸£à¸§à¸¡ PDF** à¹€à¸”à¸´à¸¡à¹à¸¥à¸°à¹ƒà¸šà¸›à¸°à¸«à¸™à¹‰à¸²à¹ƒà¸™à¹„à¸Ÿà¸¥à¹Œà¹€à¸”à¸µà¸¢à¸§
- â¬‡ï¸ **à¸”à¸²à¸§à¸™à¹Œà¹‚à¸«à¸¥à¸”à¹„à¸Ÿà¸¥à¹Œ** à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´

## ğŸš€ à¸§à¸´à¸˜à¸µà¸£à¸±à¸™ Backend

### à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 1: à¸£à¸±à¸™à¸”à¹‰à¸§à¸¢ Docker (à¹à¸™à¸°à¸™à¸³)

```bash
# à¸£à¸±à¸™à¸”à¹‰à¸§à¸¢ script à¸—à¸µà¹ˆà¹€à¸•à¸£à¸µà¸¢à¸¡à¹„à¸§à¹‰
./start-docker.sh

# à¸«à¸£à¸·à¸­à¸£à¸±à¸™à¸”à¹‰à¸§à¸¢ docker-compose à¹‚à¸”à¸¢à¸•à¸£à¸‡
docker-compose up --build backend
```

### à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 2: à¸£à¸±à¸™à¹à¸šà¸š Development

```bash
cd src/server/
npm install
npx ts-node index.ts

# à¸«à¸£à¸·à¸­à¹ƒà¸Šà¹‰ script à¸—à¸µà¹ˆà¹€à¸•à¸£à¸µà¸¢à¸¡à¹„à¸§à¹‰
./start.sh
```

## ğŸŒ à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸£à¸±à¸™ server à¹à¸¥à¹‰à¸§ à¹€à¸›à¸´à¸”à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œà¹„à¸›à¸—à¸µà¹ˆ:

- **à¸«à¸™à¹‰à¸²à¸«à¸¥à¸±à¸:** http://localhost:3001/
- **à¸«à¸™à¹‰à¸²à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”:** http://localhost:3001/upload

## ğŸ”§ à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²

### OpenAI API Key

à¸£à¸°à¸šà¸šà¹„à¸”à¹‰à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² OpenAI API Key à¹„à¸§à¹‰à¹à¸¥à¹‰à¸§à¹ƒà¸™ `docker-compose.yml` 

à¸«à¸²à¸à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡ à¸ªà¸²à¸¡à¸²à¸£à¸–à¹à¸à¹‰à¹„à¸‚à¹„à¸”à¹‰à¹ƒà¸™à¹„à¸Ÿà¸¥à¹Œ `docker-compose.yml`:

```yaml
environment:
  - OPENAI_API_KEY=your-api-key-here
```

### Port Configuration

- **Backend:** à¸£à¸±à¸™à¸—à¸µà¹ˆ port `3001`
- **Web Interface:** à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¸œà¹ˆà¸²à¸™ `http://localhost:3001`

## ğŸ“ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„

```
pdf-final-docker-ver-be/
â”œâ”€â”€ docker-compose.yml          # Docker configuration (Backend only)
â”œâ”€â”€ Dockerfile.backend          # Backend Docker image
â”œâ”€â”€ start-docker.sh            # Script à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¸±à¸™ Docker
â”œâ”€â”€ src/server/                # Backend source code
â”‚   â”œâ”€â”€ index.ts               # Main server file
â”‚   â”œâ”€â”€ start.sh              # Development start script
â”‚   â”œâ”€â”€ templates/            # HTML templates
â”‚   â”‚   â””â”€â”€ upload.html       # Upload page
â”‚   â”œâ”€â”€ routes/               # API routes
â”‚   â”œâ”€â”€ services/             # Business logic
â”‚   â””â”€â”€ utils/                # Utility functions
â””â”€â”€ uploads/                   # File storage
```

## ğŸ›  à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²

### à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Dependencies

```bash
cd src/server/
npm install
```

### à¸£à¸±à¸™à¹ƒà¸™à¹‚à¸«à¸¡à¸” Development

```bash
npm run dev
# à¸«à¸£à¸·à¸­
npx ts-node index.ts
```

## ğŸ³ Docker Commands

```bash
# Build à¹à¸¥à¸°à¸£à¸±à¸™ backend
docker-compose up --build backend

# à¸£à¸±à¸™à¹ƒà¸™ background
docker-compose up -d backend

# à¸«à¸¢à¸¸à¸”à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™
docker-compose down

# à¸”à¸¹ logs
docker-compose logs backend

# à¹€à¸‚à¹‰à¸²à¹„à¸›à¹ƒà¸™ container
docker-compose exec backend sh
```

## ğŸ“ à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸

- à¸£à¸°à¸šà¸šà¸™à¸µà¹‰ **à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¹ƒà¸Šà¹‰ frontend React** à¹à¸¢à¸à¸•à¹ˆà¸²à¸‡à¸«à¸²à¸
- **Web Interface** à¸–à¸¹à¸à¸ªà¸£à¹‰à¸²à¸‡à¸”à¹‰à¸§à¸¢ HTML/CSS/JavaScript à¸˜à¸£à¸£à¸¡à¸”à¸²
- **OpenAI API Key** à¸ˆà¸³à¹€à¸›à¹‡à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™à¸‚à¸­à¸‡ AI features
- **à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¸­à¸±à¸›à¹‚à¸«à¸¥à¸”** à¸ˆà¸°à¸–à¸¹à¸à¹€à¸à¹‡à¸šà¹„à¸§à¹‰à¹ƒà¸™ volume `uploads_data`

## ğŸ†˜ Troubleshooting

### à¸–à¹‰à¸² Docker à¹„à¸¡à¹ˆà¸£à¸±à¸™
```bash
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² Docker à¸—à¸³à¸‡à¸²à¸™à¸­à¸¢à¸¹à¹ˆ
docker --version
docker-compose --version

# à¸¥à¹‰à¸²à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸à¹ˆà¸²
docker-compose down -v
docker system prune -f
```

### à¸–à¹‰à¸² Port à¸‚à¸±à¸”à¹à¸¢à¹‰à¸‡
```bash
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š process à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰ port 3001
lsof -i :3001

# à¸«à¸¢à¸¸à¸” process à¸—à¸µà¹ˆà¸‚à¸±à¸”à¹à¸¢à¹‰à¸‡
kill -9 <PID>
```
